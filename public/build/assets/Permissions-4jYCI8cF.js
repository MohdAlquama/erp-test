import{r,j as e}from"./app-Da_nhggM.js";import{A as b}from"./AdminLayout-BFQKyw_n.js";import{a as u}from"./axiosInstance-BO4ZrsK3.js";import{c as a}from"./index-CgiR4QPD.js";import"./adminContext-CI6wc_Go.js";import"./menu-By4tiiDw.js";import"./createLucideIcon-Cl5mBFKr.js";import"./search-Cy0dovnH.js";import"./bell-Dmhy7b3m.js";import"./user-C3Ls9d9N.js";import"./x-Buk7JkW1.js";import"./house-BqJmp5lC.js";import"./users-SPycqOBZ.js";import"./graduation-cap-C0ne5fPE.js";import"./file-text-DJmdbdJJ.js";import"./settings-2yKiBYT4.js";import"./log-out-C0sdDckr.js";function f(){const[o,p]=r.useState([]),[i,n]=r.useState(""),[c,l]=r.useState("pending"),[d,m]=r.useState(!1);r.useEffect(()=>{(async()=>{try{const s=await u.get("/batches");p(s.data)}catch(s){console.error(s),a.error("Failed to fetch batches")}})()},[]);const h=async t=>{if(t.preventDefault(),!i){a.error("Please select a batch");return}m(!0);try{await u.post("/permissions",{batch_id:i,status:c}),a.success("Permission sent successfully"),n(""),l("pending")}catch(s){console.error(s),a.error("Failed to send permission")}finally{m(!1)}};return e.jsxs("div",{className:"p-6 bg-white rounded shadow-md w-full max-w-md mx-auto mt-10",children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:"Send Permission"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Select Batch"}),e.jsxs("select",{value:i,onChange:t=>n(t.target.value),className:"w-full border border-gray-300 rounded p-2",children:[e.jsx("option",{value:"",children:"-- Select Batch --"}),o.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Status"}),e.jsxs("select",{value:c,onChange:t=>l(t.target.value),className:"w-full border border-gray-300 rounded p-2",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"accepted",children:"Accepted"})]})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50",children:d?"Sending...":"Send Permission"})]})]})}f.layout=o=>e.jsx(b,{children:o});export{f as default};

import{r,j as e}from"./app-Da_nhggM.js";import{a as i}from"./axiosInstance-BO4ZrsK3.js";import{A as C}from"./AdminLayout-BFQKyw_n.js";import{R as o,P as N,a as R,C as K,T as d,L as l,B as h,X as x,Y as y,b as n}from"./PieChart-VRHT1DMZ.js";import{C as p}from"./CartesianGrid-BxZ-ff9C.js";import"./adminContext-CI6wc_Go.js";import"./index-CgiR4QPD.js";import"./menu-By4tiiDw.js";import"./createLucideIcon-Cl5mBFKr.js";import"./search-Cy0dovnH.js";import"./bell-Dmhy7b3m.js";import"./user-C3Ls9d9N.js";import"./x-Buk7JkW1.js";import"./house-BqJmp5lC.js";import"./users-SPycqOBZ.js";import"./graduation-cap-C0ne5fPE.js";import"./file-text-DJmdbdJJ.js";import"./settings-2yKiBYT4.js";import"./log-out-C0sdDckr.js";import"./clsx-B-dksMZM.js";function D(){const[a,j]=r.useState({present:0,absent:0}),[f,b]=r.useState([]),[u,g]=r.useState([]),s=8,c=["#22c55e","#ef4444"];r.useEffect(()=>{(async()=>{try{const[t,v,A]=await Promise.all([i.get(`/admin/${s}/attendance/today`),i.get(`/admin/${s}/attendance/monthly`),i.get(`/admin/${s}/attendance/yearly`)]);j(t.data),b(v.data),g(A.data)}catch(t){console.error("Error fetching attendance data:",t)}})()},[s]);const m=[{name:"Present",value:a.present},{name:"Absent",value:a.absent}];return e.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Attendance Overview"}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Today’s Attendance"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(N,{children:[e.jsx(R,{data:m,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:!0,children:m.map((w,t)=>e.jsx(K,{fill:c[t%c.length]},t))}),e.jsx(d,{}),e.jsx(l,{})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"This Month’s Attendance (by Day)"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(h,{data:f,children:[e.jsx(p,{strokeDasharray:"3 3"}),e.jsx(x,{dataKey:"day"}),e.jsx(y,{}),e.jsx(d,{}),e.jsx(l,{}),e.jsx(n,{dataKey:"present",fill:"#22c55e"}),e.jsx(n,{dataKey:"absent",fill:"#ef4444"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"This Year’s Attendance (by Month)"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(h,{data:u,children:[e.jsx(p,{strokeDasharray:"3 3"}),e.jsx(x,{dataKey:"month"}),e.jsx(y,{}),e.jsx(d,{}),e.jsx(l,{}),e.jsx(n,{dataKey:"present",fill:"#22c55e"}),e.jsx(n,{dataKey:"absent",fill:"#ef4444"})]})})]})]})}D.layout=a=>e.jsx(C,{children:a});export{D as default};

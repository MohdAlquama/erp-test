import{r as c,J as h,j as e,S as g,x as p,t as y}from"./app-Da_nhggM.js";import{a as b}from"./axiosInstance-BO4ZrsK3.js";import{L as u}from"./log-out-C0sdDckr.js";import{L as j}from"./layout-dashboard-DeJPl4RO.js";import{B as N,U as m}from"./user-C3Ls9d9N.js";import{C as S}from"./calendar-check-By_vXnKs.js";import{c as x}from"./createLucideIcon-Cl5mBFKr.js";import{M as v}from"./menu-By4tiiDw.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],w=x("file-search",k);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],L=x("route",C);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_=x("send",M),f=c.createContext(),I=({children:a})=>{const{student:t}=h().props||{},[n,r]=c.useState(t||null),[o,s]=c.useState(!t);return c.useEffect(()=>{if(!(t!=null&&t.id)){s(!1);return}(async()=>{var i;s(!0);try{const d=await b.get(`/student/${t.id}/details`);r(d.data)}catch(d){console.error("Failed to fetch student details",d),((i=d.response)==null?void 0:i.status)===401&&g.visit("/student/login")}finally{s(!1)}})()},[t==null?void 0:t.id]),e.jsx(f.Provider,{value:{student:n||{},setStudent:r,loading:o},children:a})},B=()=>c.useContext(f);function O({isOpen:a,closeSidebar:t}){const{url:n}=h(),{post:r}=p(),o=[{icon:j,label:"Dashboard",href:"/student/dashboard"},{icon:N,label:"My Courses",href:"/student/mycourses"},{icon:S,label:"Attendance",href:"/student/attendance"},{icon:w,label:"Admit Card",href:"/student/admitCard"},{icon:_,label:"My Result",href:"/student/my-result"},{icon:L,label:"Syllabus",href:"/student/syllabus"},{icon:m,label:"Icard",href:"/student/icard"}],s=()=>{r(route("student.logout"))};return e.jsxs("aside",{className:`fixed top-0 left-0 z-30 h-screen w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${a?"translate-x-0":"-translate-x-full"}`,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[e.jsx("span",{className:"text-xl font-bold text-indigo-600",children:"Student Panel"}),e.jsx("button",{className:"lg:hidden text-gray-600 hover:text-gray-800",onClick:t,children:e.jsx(u,{className:"h-6 w-6"})})]}),e.jsxs("nav",{className:"p-4",children:[o.map(l=>{const i=n.startsWith(l.href);return e.jsxs(y,{href:l.href,className:`flex items-center space-x-3 px-4 py-2 rounded-lg mb-2 transition-colors duration-200 ${i?"bg-indigo-500 text-white":"text-gray-600 hover:bg-gray-100"}`,onClick:t,children:[e.jsx(l.icon,{className:"h-5 w-5"}),e.jsx("span",{children:l.label})]},l.label)}),e.jsxs("button",{onClick:s,className:"w-full flex items-center space-x-3 px-4 py-2 rounded-lg text-gray-600 hover:bg-gray-100 mt-6 transition-colors duration-200",children:[e.jsx(u,{className:"h-5 w-5"}),e.jsx("span",{children:"Logout"})]})]})]})}function $({toggleSidebar:a,student:t}){return e.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white shadow-sm flex items-center justify-between px-6 z-10 lg:ml-64",children:[e.jsx("button",{className:"lg:hidden text-gray-600 hover:text-gray-800",onClick:a,children:e.jsx(v,{className:"h-6 w-6"})}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx(m,{className:"h-5 w-5 text-indigo-600"})}),e.jsx("span",{className:"font-medium text-gray-700",children:(t==null?void 0:t.name)||"Student"})]})})]})}function F({children:a,student:t}){const[n,r]=c.useState(!1),o=()=>r(!n),s=()=>r(!1);return e.jsx(I,{children:e.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:s}),e.jsx(O,{isOpen:n,closeSidebar:s}),e.jsxs("div",{className:"flex-1 flex flex-col lg:ml-64",children:[e.jsx($,{toggleSidebar:o,student:t}),e.jsx("main",{className:"mt-20 p-6",children:a})]})]})})}export{F as S,B as u};

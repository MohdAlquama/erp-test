import{r as l,j as e,S as c}from"./app-Da_nhggM.js";import{a as f}from"./axiosInstance-BO4ZrsK3.js";import{V as o}from"./index-CgiR4QPD.js";function w(){const[s,n]=l.useState({email:"",password:""}),[i,d]=l.useState({}),[u,m]=l.useState(!1),x=a=>{a.preventDefault(),m(!0),d({}),f.post("/login",s).then(t=>{const r=t.data.user;o.success("Login successful! Redirecting..."),r.roles.includes("supper")?c.visit("/supper/dashboard"):r.roles.includes("user")?c.visit("/subadmin/dashboard"):o.error("Unknown role. Contact admin.")}).catch(t=>{var r,p;((r=t.response)==null?void 0:r.status)===422?(d(t.response.data.errors||{}),o.error("Validation failed. Check inputs.")):((p=t.response)==null?void 0:p.status)===401?o.error("Invalid email or password"):o.error("Something went wrong. Try again.")}).finally(()=>m(!1))};return e.jsxs("form",{onSubmit:x,className:"p-4 max-w-md mx-auto",children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:"SubAdmin Login"}),e.jsx("input",{type:"email",value:s.email,onChange:a=>n({...s,email:a.target.value}),placeholder:"Email",className:"w-full border p-2 mb-2"}),i.email&&e.jsx("div",{className:"text-red-500 text-sm",children:i.email}),e.jsx("input",{type:"password",value:s.password,onChange:a=>n({...s,password:a.target.value}),placeholder:"Password",className:"w-full border p-2 mb-2"}),i.password&&e.jsx("div",{className:"text-red-500 text-sm",children:i.password}),e.jsx("button",{type:"submit",disabled:u,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:u?"Logging in...":"Login"})]})}export{w as default};

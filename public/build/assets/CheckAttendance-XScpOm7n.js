import{r as l,j as e}from"./app-Da_nhggM.js";import{V as x,O as h}from"./index-CgiR4QPD.js";import{a as u}from"./axiosInstance-BO4ZrsK3.js";function j({teacher_id:s,batch_id:a,subject_id:r,date:n,reload:o}){const[d,c]=l.useState([]),[m,i]=l.useState(!1);return l.useEffect(()=>{!s||!a||!r||!n||(i(!0),c([]),u.post("/teacher/attendance/check",{teacher_id:s,batch_id:a,subject_id:r,date:n}).then(t=>{t.data.success?(c(t.data.data),x.success("Attendance found for this batch")):(x.error(t.data.message),c([]))}).catch(t=>{console.error(t),x.error("Error checking attendance")}).finally(()=>i(!1)))},[s,a,r,n,o]),e.jsxs("div",{className:"mt-8",children:[e.jsx(h,{position:"top-right"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Attendance Records"}),m?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),e.jsx("p",{className:"text-gray-500",children:"Loading attendance..."})]}):d.length===0?e.jsx("p",{className:"text-red-500 text-sm",children:"No attendance found."}):e.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Student Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Enrollment"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:d.map((t,p)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.student_name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.student_enrollment_number}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${t.status==="present"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})})]},p))})]})})]})}export{j as default};

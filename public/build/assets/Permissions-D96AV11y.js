import{r,j as e}from"./app-DVKDYkXn.js";import{A as b}from"./AdminLayout-xaFDPYzW.js";import{a as u}from"./axiosInstance-DbG8c_Wf.js";import{c as a}from"./index-Cz5qM-jY.js";import"./adminContext-PWhikkwe.js";import"./menu-CmgxFT07.js";import"./createLucideIcon-V0M9PHiF.js";import"./search-CWxSpjiP.js";import"./bell-BPh2_WIZ.js";import"./user-0Ob6j4Ad.js";import"./x-BXpkOE8a.js";import"./house-CAgWt0V0.js";import"./users-DYTZw1Iw.js";import"./graduation-cap-DP4x_y6M.js";import"./file-text-BNaR_w6u.js";import"./settings-DfQ06Dqm.js";import"./log-out-mnJCr85j.js";function f(){const[o,p]=r.useState([]),[i,n]=r.useState(""),[c,l]=r.useState("pending"),[d,m]=r.useState(!1);r.useEffect(()=>{(async()=>{try{const s=await u.get("/batches");p(s.data)}catch(s){console.error(s),a.error("Failed to fetch batches")}})()},[]);const h=async t=>{if(t.preventDefault(),!i){a.error("Please select a batch");return}m(!0);try{await u.post("/permissions",{batch_id:i,status:c}),a.success("Permission sent successfully"),n(""),l("pending")}catch(s){console.error(s),a.error("Failed to send permission")}finally{m(!1)}};return e.jsxs("div",{className:"p-6 bg-white rounded shadow-md w-full max-w-md mx-auto mt-10",children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:"Send Permission"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Select Batch"}),e.jsxs("select",{value:i,onChange:t=>n(t.target.value),className:"w-full border border-gray-300 rounded p-2",children:[e.jsx("option",{value:"",children:"-- Select Batch --"}),o.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Status"}),e.jsxs("select",{value:c,onChange:t=>l(t.target.value),className:"w-full border border-gray-300 rounded p-2",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"accepted",children:"Accepted"})]})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50",children:d?"Sending...":"Send Permission"})]})]})}f.layout=o=>e.jsx(b,{children:o});export{f as default};

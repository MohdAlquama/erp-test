import{r as l,j as e}from"./app-DVKDYkXn.js";import{A as S}from"./AdminLayout-xaFDPYzW.js";import{V as c}from"./index-Cz5qM-jY.js";import"./adminContext-PWhikkwe.js";import"./axiosInstance-DbG8c_Wf.js";import"./menu-CmgxFT07.js";import"./createLucideIcon-V0M9PHiF.js";import"./search-CWxSpjiP.js";import"./bell-BPh2_WIZ.js";import"./user-0Ob6j4Ad.js";import"./x-BXpkOE8a.js";import"./house-CAgWt0V0.js";import"./users-DYTZw1Iw.js";import"./graduation-cap-DP4x_y6M.js";import"./file-text-BNaR_w6u.js";import"./settings-DfQ06Dqm.js";import"./log-out-mnJCr85j.js";function U(){const[r,d]=l.useState({name:"",email:"",role:"student",password:""}),[s,m]=l.useState([]),[n,x]=l.useState(null),[u,y]=l.useState(""),[h,b]=l.useState(""),[w,i]=l.useState(!1),o=t=>d({...r,[t.target.name]:t.target.value}),j=t=>{if(t.preventDefault(),r.name.trim()===""||r.email.trim()===""||r.password.trim()===""){c.error("Please fill out all required fields.");return}if(n!==null){const a=[...s];a[n]=r,m(a),c.success("User updated successfully!"),x(null)}else m([...s,r]),c.success("User created successfully!");d({name:"",email:"",role:"student",password:""}),i(!1)},f=t=>{d(s[t]),x(t),i(!0)},k=t=>{if(window.confirm("Are you sure you want to delete this user?")){const a=s.filter((g,C)=>C!==t);m(a),c.success("User deleted.")}},N=t=>{alert(`
      Name: ${t.name}
      Email: ${t.email}
      Role: ${t.role}
    `)},p=s.filter(t=>{const a=t.name.toLowerCase().includes(u.toLowerCase())||t.email.toLowerCase().includes(u.toLowerCase()),g=h?t.role===h:!0;return a&&g}),v=[...new Set(s.map(t=>t.role))];return e.jsxs("div",{className:"p-6 relative overflow-hidden bg-white dark:bg-gray-900 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Create User"}),e.jsx("button",{onClick:()=>{x(null),d({name:"",email:"",role:"student",password:""}),i(!0)},className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition",children:"+ Create User"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[e.jsx("input",{type:"text",placeholder:"Search by name or email",value:u,onChange:t=>y(t.target.value),className:"px-4 py-2 border rounded w-full md:w-1/3 dark:bg-gray-800 dark:text-white dark:border-gray-600"}),e.jsxs("select",{value:h,onChange:t=>b(t.target.value),className:"px-4 py-2 border rounded w-full md:w-1/4 dark:bg-gray-800 dark:text-white dark:border-gray-600",children:[e.jsx("option",{value:"",children:"All Roles"}),v.map((t,a)=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},a))]})]}),p.length>0?e.jsx("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow",children:e.jsxs("table",{className:"min-w-full text-sm text-left text-gray-800 dark:text-gray-200",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-xs uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:"Name"}),e.jsx("th",{className:"px-4 py-2",children:"Email"}),e.jsx("th",{className:"px-4 py-2",children:"Role"}),e.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:p.map((t,a)=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("td",{className:"px-4 py-2",children:t.name}),e.jsx("td",{className:"px-4 py-2",children:t.email}),e.jsx("td",{className:"px-4 py-2 capitalize",children:t.role}),e.jsxs("td",{className:"px-4 py-2 flex gap-2",children:[e.jsx("button",{onClick:()=>N(t),className:"text-blue-600 dark:text-blue-400 hover:underline",children:"View"}),e.jsx("button",{onClick:()=>f(a),className:"text-yellow-600 dark:text-yellow-400 hover:underline",children:"Edit"}),e.jsx("button",{onClick:()=>k(a),className:"text-red-600 dark:text-red-400 hover:underline",children:"Delete"})]})]},a))})]})}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-6",children:"No users found."}),e.jsxs("div",{className:`fixed top-0 right-0 h-full w-full sm:w-[400px] bg-white dark:bg-gray-900 shadow-xl transition-transform duration-300 z-50 ${w?"translate-x-0":"translate-x-full"}`,children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:n!==null?"Edit User":"Create User"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-600 dark:text-gray-300 hover:text-red-600",children:"âœ•"})]}),e.jsxs("form",{onSubmit:j,className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),e.jsx("input",{type:"text",name:"name",required:!0,value:r.name,onChange:o,className:"mt-1 w-full px-4 py-2 border rounded dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx("input",{type:"email",name:"email",required:!0,value:r.email,onChange:o,className:"mt-1 w-full px-4 py-2 border rounded dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),e.jsxs("select",{name:"role",value:r.role,onChange:o,className:"mt-1 w-full px-4 py-2 border rounded dark:bg-gray-800 dark:text-white dark:border-gray-600",children:[e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"teacher",children:"Teacher"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"subadmin",children:"Sub Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),e.jsx("input",{type:"password",name:"password",required:!0,value:r.password,onChange:o,className:"mt-1 w-full px-4 py-2 border rounded dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",className:"bg-indigo-600 text-white w-full py-2 rounded hover:bg-indigo-700",children:n!==null?"Update User":"Create User"})})]})]})]})}U.layout=r=>e.jsx(S,{children:r});export{U as default};

import{r,j as e}from"./app-DVKDYkXn.js";import{a as i}from"./axiosInstance-DbG8c_Wf.js";import{A as C}from"./AdminLayout-xaFDPYzW.js";import{R as o,P as N,a as R,C as K,T as d,L as l,B as h,X as x,Y as y,b as n}from"./PieChart-Dx-cV7tp.js";import{C as p}from"./CartesianGrid-pEb7_zUN.js";import"./adminContext-PWhikkwe.js";import"./index-Cz5qM-jY.js";import"./menu-CmgxFT07.js";import"./createLucideIcon-V0M9PHiF.js";import"./search-CWxSpjiP.js";import"./bell-BPh2_WIZ.js";import"./user-0Ob6j4Ad.js";import"./x-BXpkOE8a.js";import"./house-CAgWt0V0.js";import"./users-DYTZw1Iw.js";import"./graduation-cap-DP4x_y6M.js";import"./file-text-BNaR_w6u.js";import"./settings-DfQ06Dqm.js";import"./log-out-mnJCr85j.js";import"./clsx-B-dksMZM.js";function D(){const[a,j]=r.useState({present:0,absent:0}),[f,b]=r.useState([]),[u,g]=r.useState([]),s=8,c=["#22c55e","#ef4444"];r.useEffect(()=>{(async()=>{try{const[t,v,A]=await Promise.all([i.get(`/admin/${s}/attendance/today`),i.get(`/admin/${s}/attendance/monthly`),i.get(`/admin/${s}/attendance/yearly`)]);j(t.data),b(v.data),g(A.data)}catch(t){console.error("Error fetching attendance data:",t)}})()},[s]);const m=[{name:"Present",value:a.present},{name:"Absent",value:a.absent}];return e.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Attendance Overview"}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Today’s Attendance"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(N,{children:[e.jsx(R,{data:m,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:!0,children:m.map((w,t)=>e.jsx(K,{fill:c[t%c.length]},t))}),e.jsx(d,{}),e.jsx(l,{})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"This Month’s Attendance (by Day)"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(h,{data:f,children:[e.jsx(p,{strokeDasharray:"3 3"}),e.jsx(x,{dataKey:"day"}),e.jsx(y,{}),e.jsx(d,{}),e.jsx(l,{}),e.jsx(n,{dataKey:"present",fill:"#22c55e"}),e.jsx(n,{dataKey:"absent",fill:"#ef4444"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"This Year’s Attendance (by Month)"}),e.jsx(o,{width:"100%",height:300,children:e.jsxs(h,{data:u,children:[e.jsx(p,{strokeDasharray:"3 3"}),e.jsx(x,{dataKey:"month"}),e.jsx(y,{}),e.jsx(d,{}),e.jsx(l,{}),e.jsx(n,{dataKey:"present",fill:"#22c55e"}),e.jsx(n,{dataKey:"absent",fill:"#ef4444"})]})})]})]})}D.layout=a=>e.jsx(C,{children:a});export{D as default};

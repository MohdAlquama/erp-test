import{r as n,j as t}from"./app-Da_nhggM.js";import{A as O}from"./AdminLayout-BFQKyw_n.js";import"./adminContext-CI6wc_Go.js";import"./axiosInstance-BO4ZrsK3.js";import"./index-CgiR4QPD.js";import"./menu-By4tiiDw.js";import"./createLucideIcon-Cl5mBFKr.js";import"./search-Cy0dovnH.js";import"./bell-Dmhy7b3m.js";import"./user-C3Ls9d9N.js";import"./x-Buk7JkW1.js";import"./house-BqJmp5lC.js";import"./users-SPycqOBZ.js";import"./graduation-cap-C0ne5fPE.js";import"./file-text-DJmdbdJJ.js";import"./settings-2yKiBYT4.js";import"./log-out-C0sdDckr.js";function Q(){const[i,m]=n.useState(!1),[l,x]=n.useState([]),[r,v]=n.useState("school"),[s,h]=n.useState({name:"",grade:"",semester:"",section:"",branch:"",subject:"",date:"",time:"",duration:""}),[d,f]=n.useState(""),[p,k]=n.useState(""),[g,C]=n.useState(""),[j,E]=n.useState(""),[b,F]=n.useState(""),[u,y]=n.useState(null),w=()=>m(!i),o=e=>h({...s,[e.target.name]:e.target.value}),L=e=>{e.preventDefault();const a={...s,mode:r};if(u!==null){const c=[...l];c[u]=a,x(c),y(null)}else x([...l,a]);h({name:"",grade:"",semester:"",section:"",branch:"",subject:"",date:"",time:"",duration:""}),m(!1)},q=e=>{h(l[e]),v(l[e].mode||"school"),y(e),m(!0)},D=e=>{const a=l.filter((c,N)=>N!==e);x(a)},$=e=>{const a=e.mode==="college"?`Semester: ${e.semester}
Branch: ${e.branch}`:`Grade: ${e.grade}
Section: ${e.section}`;alert(`
Exam Name: ${e.name}
${a}
Subject: ${e.subject}
Date: ${e.date}
Time: ${e.time}
Duration: ${e.duration} mins
        `)},S=l.filter(e=>{const a=e.name.toLowerCase().includes(d.toLowerCase())||e.subject.toLowerCase().includes(d.toLowerCase())||(e.mode==="school"?e.section.toLowerCase().includes(d.toLowerCase())||e.grade.toLowerCase().includes(d.toLowerCase()):e.branch.toLowerCase().includes(d.toLowerCase())||e.semester.toLowerCase().includes(d.toLowerCase())),c=e.mode===r,N=r==="school"?!p||e.grade===p:!0,I=r==="school"?!j||e.section===j:!0,T=r==="college"?!g||e.semester===g:!0,z=r==="college"?!b||e.branch===b:!0;return a&&c&&N&&I&&T&&z}),A=[...new Set(l.filter(e=>e.mode==="school").map(e=>e.grade))],B=[...new Set(l.filter(e=>e.mode==="school").map(e=>e.section))],G=[...new Set(l.filter(e=>e.mode==="college").map(e=>e.semester))],M=[...new Set(l.filter(e=>e.mode==="college").map(e=>e.branch))];return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Examination Management"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Schedule exams for both School and College"})]}),t.jsx("button",{onClick:()=>{h({name:"",grade:"",semester:"",section:"",branch:"",subject:"",date:"",time:"",duration:""}),y(null),w()},className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"+ Schedule New Exam"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"mr-2 font-medium",children:"Select Mode:"}),t.jsxs("select",{value:r,onChange:e=>v(e.target.value),className:"px-4 py-2 border rounded dark:bg-gray-800 dark:text-white",children:[t.jsx("option",{value:"school",children:"School"}),t.jsx("option",{value:"college",children:"College"})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[t.jsx("input",{type:"text",placeholder:"Search exams...",value:d,onChange:e=>f(e.target.value),className:"px-4 py-2 border rounded dark:bg-gray-800 dark:text-white"}),r==="school"&&t.jsxs(t.Fragment,{children:[t.jsxs("select",{value:p,onChange:e=>k(e.target.value),className:"px-4 py-2 border rounded dark:bg-gray-800 dark:text-white",children:[t.jsx("option",{value:"",children:"All Grades"}),A.map((e,a)=>t.jsx("option",{value:e,children:e},a))]}),t.jsxs("select",{value:j,onChange:e=>E(e.target.value),className:"px-4 py-2 border rounded dark:bg-gray-800 dark:text-white",children:[t.jsx("option",{value:"",children:"All Sections"}),B.map((e,a)=>t.jsx("option",{value:e,children:e},a))]})]}),r==="college"&&t.jsxs(t.Fragment,{children:[t.jsxs("select",{value:g,onChange:e=>C(e.target.value),className:"px-4 py-2 border rounded dark:bg-gray-800 dark:text-white",children:[t.jsx("option",{value:"",children:"All Semesters"}),G.map((e,a)=>t.jsx("option",{value:e,children:e},a))]}),t.jsxs("select",{value:b,onChange:e=>F(e.target.value),className:"px-4 py-2 border rounded dark:bg-gray-800 dark:text-white",children:[t.jsx("option",{value:"",children:"All Branches"}),M.map((e,a)=>t.jsx("option",{value:e,children:e},a))]})]})]}),S.length>0?t.jsx("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow",children:t.jsxs("table",{className:"min-w-full text-sm text-left text-gray-800 dark:text-gray-200",children:[t.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-xs uppercase",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2",children:"Exam Name"}),t.jsx("th",{className:"px-4 py-2",children:r==="college"?"Semester":"Grade"}),t.jsx("th",{className:"px-4 py-2",children:r==="college"?"Branch":"Section"}),t.jsx("th",{className:"px-4 py-2",children:"Subject"}),t.jsx("th",{className:"px-4 py-2",children:"Date"}),t.jsx("th",{className:"px-4 py-2",children:"Time"}),t.jsx("th",{className:"px-4 py-2",children:"Duration"}),t.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),t.jsx("tbody",{children:S.map((e,a)=>t.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[t.jsx("td",{className:"px-4 py-2",children:e.name}),t.jsx("td",{className:"px-4 py-2",children:r==="college"?e.semester:e.grade}),t.jsx("td",{className:"px-4 py-2",children:r==="college"?e.branch:e.section}),t.jsx("td",{className:"px-4 py-2",children:e.subject}),t.jsx("td",{className:"px-4 py-2",children:e.date}),t.jsx("td",{className:"px-4 py-2",children:e.time}),t.jsxs("td",{className:"px-4 py-2",children:[e.duration," mins"]}),t.jsxs("td",{className:"px-4 py-2 flex gap-2",children:[t.jsx("button",{onClick:()=>$(e),className:"text-blue-600 hover:underline",children:"View"}),t.jsx("button",{onClick:()=>q(a),className:"text-yellow-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>D(a),className:"text-red-600 hover:underline",children:"Delete"})]})]},a))})]})}):t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-6",children:"No exams scheduled yet."}),i&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/40 z-30",onClick:w}),t.jsxs("div",{className:"fixed right-0 top-[64px] h-[calc(100%-64px)] w-full max-w-md bg-white dark:bg-gray-900 shadow-lg z-40 p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold dark:text-white",children:u!==null?"Edit Exam":"Schedule New Exam"}),t.jsx("button",{onClick:w,className:"text-gray-500 hover:text-red-600",children:"âœ•"})]}),t.jsxs("form",{onSubmit:L,className:"space-y-4",children:[t.jsx("input",{name:"name",type:"text",placeholder:"Exam Name",value:s.name,onChange:o,className:"w-full px-3 py-2 border rounded dark:bg-gray-800 dark:text-white",required:!0}),r==="school"?t.jsxs(t.Fragment,{children:[t.jsx("input",{name:"grade",type:"text",placeholder:"Grade (e.g., 10th)",value:s.grade,onChange:o,className:"w-full px-3 py-2 border rounded dark:bg-gray-800 dark:text-white",required:!0}),t.jsx("input",{name:"section",type:"text",placeholder:"Section (e.g., A)",value:s.section,onChange:o,className:"w-full px-3 py-2 border rounded dark:bg-gray-800 dark:text-white",required:!0})]}):t.jsxs(t.Fragment,{children:[t.jsxs("select",{name:"semester",value:s.semester,onChange:o,className:"w-full px-3 py-2 border rounded dark:bg-gray-800 dark:text-white",required:!0,children:[t.jsx("option",{value:"",children:"Select Semester"}),["1st","2nd","3rd","4th","5th","6th","7th","8th"].map(e=>t.jsx("option",{value:e,children:e},e))]}),t.jsxs("select",{name:"branch",value:s.branch,onChange:o,className:"w-full px-3 py-2 border rounded dark:bg-gray-800 dark:text-white",required:!0,children:[t.jsx("option",{value:"",children:"Select Branch"}),["CSE","IT","ECE","EEE","ME","CE","AI-ML","Data Science"].map(e=>t.jsx("option",{value:e,children:e},e))]})]}),t.jsx("input",{name:"subject",type:"text",placeholder:"Subject",value:s.subject,onChange:o,className:"w-full px-3 py-2 border rounded dark:bg-gray-800 dark:text-white",required:!0}),t.jsx("input",{name:"date",type:"date",value:s.date,onChange:o,className:"w-full px-3 py-2 border rounded dark:bg-gray-800 dark:text-white",required:!0}),t.jsx("input",{name:"time",type:"time",value:s.time,onChange:o,className:"w-full px-3 py-2 border rounded dark:bg-gray-800 dark:text-white",required:!0}),t.jsx("input",{name:"duration",type:"number",placeholder:"Duration (mins)",value:s.duration,onChange:o,className:"w-full px-3 py-2 border rounded dark:bg-gray-800 dark:text-white",required:!0}),t.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700",children:u!==null?"Update Exam":"Save Exam"})]})]})]})]})}Q.layout=i=>t.jsx(O,{children:i});export{Q as default};
